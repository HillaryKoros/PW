<?xml version="1.0" encoding="UTF-8"?>
<mapcache>
  <cache name="disk" type="disk">
    <base>/var/cache/mapcache</base>
    <symlink_blank/>
  </cache>

  <cache name="memcache" type="memcache">
    <server>
      <host>localhost</host>
      <port>11211</port>
    </server>
  </cache>

  <source name="breeding_suitability_wms" type="wms">
    <getmap>
      <url>http://localhost:8080/cgi-bin/mapserv</url>
      <params>
        <FORMAT>image/png</FORMAT>
        <LAYERS>breeding_jan_2025,breeding_feb_2025,breeding_apr_2024,breeding_jul_2024,breeding_nov_2024,breeding_dec_2024</LAYERS>
        <MAP>/mapserver/mapfiles/breeding_suitability.map</MAP>
      </params>
    </getmap>
  </source>

  <source name="feeding_susceptibility_wms" type="wms">
    <getmap>
      <url>http://localhost:8080/cgi-bin/mapserv</url>
      <params>
        <FORMAT>image/png</FORMAT>
        <LAYERS>feeding_periods_2024</LAYERS>
        <MAP>/mapserver/mapfiles/feeding_susceptibility.map</MAP>
      </params>
    </getmap>
  </source>

  <source name="outbreak_stages_wms" type="wms">
    <getmap>
      <url>http://localhost:8080/cgi-bin/mapserv</url>
      <params>
        <FORMAT>image/png</FORMAT>
        <LAYERS>locust_outbreak_stages</LAYERS>
        <MAP>/mapserver/mapfiles/outbreak_stages.map</MAP>
      </params>
    </getmap>
  </source>

  <source name="swarm_coverage_wms" type="wms">
    <getmap>
      <url>http://localhost:8080/cgi-bin/mapserv</url>
      <params>
        <FORMAT>image/png</FORMAT>
        <LAYERS>locust_swarm_coverage_2024</LAYERS>
        <MAP>/mapserver/mapfiles/swarm_coverage.map</MAP>
      </params>
    </getmap>
  </source>

  <tileset name="breeding_suitability">
    <source>breeding_suitability_wms</source>
    <cache>disk</cache>
    <grid>WGS84</grid>
    <format>PNG</format>
    <metasize>5 5</metasize>
    <expires>86400</expires>
  </tileset>

  <tileset name="feeding_susceptibility">
    <source>feeding_susceptibility_wms</source>
    <cache>disk</cache>
    <grid>WGS84</grid>
    <format>PNG</format>
    <metasize>5 5</metasize>
    <expires>86400</expires>
  </tileset>

  <tileset name="outbreak_stages">
    <source>outbreak_stages_wms</source>
    <cache>memcache</cache>
    <grid>WGS84</grid>
    <format>PNG</format>
    <metasize>3 3</metasize>
    <expires>3600</expires>
  </tileset>

  <tileset name="swarm_coverage">
    <source>swarm_coverage_wms</source>
    <cache>disk</cache>
    <grid>WGS84</grid>
    <format>PNG</format>
    <metasize>3 3</metasize>
    <expires>7200</expires>
  </tileset>

  <default_format>PNG</default_format>

  <service type="wms" enabled="true">
    <full_wms>assemble</full_wms>
    <resample_mode>bilinear</resample_mode>
    <format allow_client_override="true">PNG</format>
    <maxsize>4096</maxsize>
  </service>

  <service type="wmts" enabled="true"/>
  <service type="tms" enabled="true"/>
  <service type="kml" enabled="true"/>
  <service type="gmaps" enabled="true"/>
  <service type="ve" enabled="true"/>
  <service type="demo" enabled="true"/>

  <errors>report</errors>
  <lock_dir>/tmp</lock_dir>
</mapcache>